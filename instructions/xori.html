<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instrução XORI - RV32IM</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500&family=Fira+Code&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <a href="../risc-v-assembly-pt.html" class="back-link">← Voltar para Referência</a>

        <h1>XORI - Operação XOR bit a bit com Imediato</h1>

        <h2>Sintaxe</h2>
        <div class="syntax-box">xori rd, rs1, imm</div>

        <h2>Descrição</h2>
        <p>Executa a operação lógica XOR (OU exclusivo) bit a bit entre o valor no registrador <code>rs1</code> e um valor imediato de 12 bits com extensão de sinal, armazenando o resultado no registrador <code>rd</code>.</p>

        <h2>Formato e Codificação</h2>
        <div class="info-grid">
            <div class="info-item"><strong>Formato:</strong> I-type</div>
            <div class="info-item"><strong>Opcode:</strong> <code>0010011</code></div>
            <div class="info-item"><strong>funct3:</strong> <code>0x4</code></div>
            <div class="info-item"><strong>funct7:</strong> N/A</div>
        </div>

        <h2>Operação</h2>
        <div class="syntax-box">rd = rs1 ^ sign_extend(imm[11:0])</div>

        <h2>Exemplos de Uso</h2>

        <div class="example-section">
            <h3>Exemplo 1: Inverter bits específicos</h3>
            <div class="example-code"># Inverter os bits 0, 1 e 3
li x5, 0b11110000      # x5 = 240
xori x6, x5, 0b1011    # x6 = 0b11111011 = 251</div>
            <div class="example-explanation">
                O XORI inverte os bits que estão em 1 na máscara. Neste exemplo, os bits nas posições 0, 1 e 3 são invertidos (0 vira 1, 1 vira 0).
            </div>
        </div>

        <div class="example-section">
            <h3>Exemplo 2: Inverter todos os bits (NOT)</h3>
            <div class="example-code"># Implementar NOT usando XORI com -1
li x10, 0xABCD         # x10 = 43981
xori x11, x10, -1      # x11 = ~x10 (complemento de 1)</div>
            <div class="example-explanation">
                XOR com -1 (todos os bits em 1) inverte todos os bits do registrador, implementando a operação NOT. Esta é uma pseudo-instrução comum (NOT rd, rs = XORI rd, rs, -1).
            </div>
        </div>

        <div class="example-section">
            <h3>Exemplo 3: Alternar flag</h3>
            <div class="example-code"># Alternar bit 5 (toggle)
xori x7, x8, 0x20      # inverte o bit 5 de x8</div>
            <div class="example-explanation">
                Útil para alternar o estado de flags ou bits de controle. Aplicar XOR duas vezes com a mesma máscara restaura o valor original.
            </div>
        </div>

        <h2>Observações</h2>
        <ul class="notes-list">
            <li>O valor imediato é de 12 bits e passa por extensão de sinal para 32 bits</li>
            <li>XOR com -1 inverte todos os bits (operação NOT)</li>
            <li>XOR com 0 não altera o valor (cópia do registrador)</li>
            <li>Muito usado em criptografia, checksums e operações de toggle de bits</li>
            <li>XOR de um valor consigo mesmo sempre resulta em zero</li>
        </ul>
    </div>
</body>
</html>
